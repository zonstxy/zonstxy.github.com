(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{258:function(t,e,a){"use strict";a.r(e);var r=a(0),n=Object(r.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h3",{attrs:{id:"🎍准备工作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🎍准备工作","aria-hidden":"true"}},[t._v("#")]),t._v(" 🎍准备工作")]),t._v(" "),a("blockquote",[a("p",[t._v("属于自己的Jenkins账户")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.qq.com/sheet/DRmNnVXl5Z01HeHZ3?tab=BB08J2",target:"_blank",rel:"noopener noreferrer"}},[t._v("在线表格"),a("OutboundLink")],1),t._v("和ICON上传完毕")])]),t._v(" "),a("h3",{attrs:{id:"⚙配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#⚙配置","aria-hidden":"true"}},[t._v("#")]),t._v(" ⚙配置")]),t._v(" "),a("p",[t._v("打包机IP地址："),a("a",{attrs:{href:"10.0.203.123"}},[t._v("10.0.203.123")]),t._v("，可以通过远程找到安卓工程"),a("code",[t._v("F:\\JKS_workspace\\frameworks1\\runtime-src\\proj.android-studio")]),t._v("，入口文件为"),a("code",[t._v("entrance.py")]),t._v("，可在Jenkins任务配置中做修改")]),t._v(" "),a("p",[t._v("同级目录下的配置文件"),a("code",[t._v("./app/sdk_%d.json")]),t._v("文件，及"),a("code",[t._v("./app/icon")]),t._v("文件夹下的图片，在"),a("code",[t._v("F:\\JKS_workspace\\GameLuaFrameworkRelease\\java\\上架资源汇总")]),t._v("下手动生成，拷贝至安卓工程下的"),a("code",[t._v("app")]),t._v("文件夹下")]),t._v(" "),a("h3",{attrs:{id:"🔍使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🔍使用","aria-hidden":"true"}},[t._v("#")]),t._v(" 🔍使用")]),t._v(" "),a("p",[t._v("整个打包机执行分"),a("code",[t._v("配置安卓工程，热更新，生成APK")]),t._v("三个步骤。")]),t._v(" "),a("p",[t._v("在"),a("a",{attrs:{href:"http://10.0.203.123:8080/jenkins",target:"_blank",rel:"noopener noreferrer"}},[t._v("Jenkins"),a("OutboundLink")],1),t._v("下登录自己的账号，执行"),a("code",[t._v("Android Cl")]),t._v("任务，配置相关信息：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("参数")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("含义")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("示例")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Platform(复选框)")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("平台ID")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("7{中至江西}")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Version(字符串)")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("版本")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("1.0.0")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("OnlineAssets")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("使用热更后台包")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("✔")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("PreRelease(勾选)")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("使用预更新包")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("❌")])])])]),t._v(" "),a("p",[t._v("点击开始构建，看到左侧按钮变蓝色即可：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/zonstxy/hello-world@master/images/jenkins_workgif.gif",alt:""}})]),t._v(" "),a("p",[t._v("最终APK包会以邮件的形式发送到在线文档预留的邮箱，注意查收。")]),t._v(" "),a("h3",{attrs:{id:"📢其他"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#📢其他","aria-hidden":"true"}},[t._v("#")]),t._v(" 📢其他")]),t._v(" "),a("h4",{attrs:{id:"路由分配"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#路由分配","aria-hidden":"true"}},[t._v("#")]),t._v(" 路由分配")]),t._v(" "),a("blockquote",[a("p",[t._v("不同平台的安卓包会临时保存在前端页面，默认访问路径为 "),a("a",{attrs:{href:"http://10.0.203.123:8080/apk/#/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://10.0.203.123:8080/apk/#/"),a("OutboundLink")],1),t._v("，单平台包访问链接在后边加平台id。示例：吉安平台  "),a("a",{attrs:{href:"http://10.0.203.123:8080/apk/#/11",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://10.0.203.123:8080/apk/#/11"),a("OutboundLink")],1)])]),t._v(" "),a("h4",{attrs:{id:"本地热更"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#本地热更","aria-hidden":"true"}},[t._v("#")]),t._v(" 本地热更")]),t._v(" "),a("p",[t._v("Jenkins下的OnlineAssets默认选中，打包机会从热更后台按照平台拉取热更包；当需要使用本地热更包时则需要到"),a("a",{attrs:{href:"http://10.0.203.123:8080/upload/",target:"_blank",rel:"noopener noreferrer"}},[t._v("上传页面"),a("OutboundLink")],1),t._v("手动传包，然后再进行打包")]),t._v(" "),a("blockquote",[a("p",[t._v("上传包命名格式：{PLATFORM_ID}.zip，文件大小限制在100MB")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/zonstxy/hello-world@master/images/upload_zip.gif",alt:""}})])])}),[],!1,null,null,null);e.default=n.exports}}]);